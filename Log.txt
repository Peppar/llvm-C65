Got this error while debugging my tablegen files:

llvm-tblgen: /home/peppar/clang/llvm/utils/TableGen/CodeGenDAGPatterns.h:646: llvm::Record *llvm::DAGInstruction::getResult(unsigned int) const: Assertion `RN < Results.size()' failed.



/home/peppar/clang/llvm/lib/Target/C65/C65InstrInfo.td:183:5: error: In ASLa: Could not infer all types in pattern!

Changed the immediate 1 to (i8 i)... Don't really know what this will yield..!


Added C65 to these files
  /home/peppar/clang/llvm/include/llvm/ADT/Triple.h
  /home/peppar/clang/llvm/lib/Support/Triple.cpp


Removed other targets from 

~/clang/build/include/llvm/Config/Targets.def

 LLVM_TARGET(R600) LLVM_TARGET(SystemZ) LLVM_TARGET(Hexagon) LLVM_TARGET(NVPTX) LLVM_TARGET(CppBackend) LLVM_TARGET(MSP430) LLVM_TARGET(XCore) LLVM_TARGET(Mips) LLVM_TARGET(AArch64) LLVM_TARGET(ARM) LLVM_TARGET(PowerPC) LLVM_TARGET(Sparc) 

ISel is required for CLANG to work.

Every directory needs a Makefile, CMakeLists.txt and
LLVMBuild.txt. Changes to these files are taken into account without
re-running config

These files need to be updated manually or by re-running config, if you
added support for an AsmPrinter, AsmParser, Disassembler or if you
want to change the targets to make:

LLVM_ASM_PRINTER(C65)
~/clang/build/include/llvm/Config/AsmPrinters.def
AsmParsers.def
Disassemblers.def
Targets.def

Added -p:16:16- to data layout, default is 64-bits, and this generated
i64 = GlobalAddress i16, which didn't really work!


http://lists.cs.uiuc.edu/pipermail/llvmdev/2009-April/021831.html

Pat<A,B> simply means "replace A by B" in the DAG. It is useful if you
have more than one pattern for a single instruction, or if you want to
use multiple instructions in a pattern replacement.

C65TargetLowering was changed to use TargetLoweringObjectFileELF()
purely, and not through its own class that didn't implement any
new functionality anyway...

TODO: Add DEBUG_TYPE to all files
TODO: Make consistent "header comments"
TODO: Make consistent all other comments...
TODO: Define what "bare-bones" means...
* No jumps, no parameters, no return values
* no stack frame
* global variables
* no X, no Y
* only boolean functions ORA, EOR, AND...
* no push, pull
* no awareness of stack pointer, PC

IMPORTANT: tried to use timm: class instead of imm: class, and then
the compiler didn't make use of my immediate instructions anymore..!!

